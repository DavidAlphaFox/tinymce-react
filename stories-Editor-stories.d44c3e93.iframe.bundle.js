/*! For license information please see stories-Editor-stories.d44c3e93.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_tinymce_tinymce_react=self.webpackChunk_tinymce_tinymce_react||[]).push([[514],{"./src/stories/Editor.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CloudChannelSetTo5Dev:()=>CloudChannelSetTo5Dev,ControlledInput:()=>ControlledInput,ControlledInputFixed:()=>ControlledInputFixed,ControlledInputLimitLength:()=>ControlledInputLimitLength,IframeEditor:()=>IframeEditor,InlineEditor:()=>InlineEditor,ToggleDisabledProp:()=>ToggleDisabledProp,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Editor_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js");const eventPropTypes={onActivate:prop_types.func,onAddUndo:prop_types.func,onBeforeAddUndo:prop_types.func,onBeforeExecCommand:prop_types.func,onBeforeGetContent:prop_types.func,onBeforeRenderUI:prop_types.func,onBeforeSetContent:prop_types.func,onBeforePaste:prop_types.func,onBlur:prop_types.func,onChange:prop_types.func,onClearUndos:prop_types.func,onClick:prop_types.func,onContextMenu:prop_types.func,onCommentChange:prop_types.func,onCopy:prop_types.func,onCut:prop_types.func,onDblclick:prop_types.func,onDeactivate:prop_types.func,onDirty:prop_types.func,onDrag:prop_types.func,onDragDrop:prop_types.func,onDragEnd:prop_types.func,onDragGesture:prop_types.func,onDragOver:prop_types.func,onDrop:prop_types.func,onExecCommand:prop_types.func,onFocus:prop_types.func,onFocusIn:prop_types.func,onFocusOut:prop_types.func,onGetContent:prop_types.func,onHide:prop_types.func,onInit:prop_types.func,onKeyDown:prop_types.func,onKeyPress:prop_types.func,onKeyUp:prop_types.func,onLoadContent:prop_types.func,onMouseDown:prop_types.func,onMouseEnter:prop_types.func,onMouseLeave:prop_types.func,onMouseMove:prop_types.func,onMouseOut:prop_types.func,onMouseOver:prop_types.func,onMouseUp:prop_types.func,onNodeChange:prop_types.func,onObjectResizeStart:prop_types.func,onObjectResized:prop_types.func,onObjectSelected:prop_types.func,onPaste:prop_types.func,onPostProcess:prop_types.func,onPostRender:prop_types.func,onPreProcess:prop_types.func,onProgressState:prop_types.func,onRedo:prop_types.func,onRemove:prop_types.func,onReset:prop_types.func,onSaveContent:prop_types.func,onSelectionChange:prop_types.func,onSetAttrib:prop_types.func,onSetContent:prop_types.func,onShow:prop_types.func,onSubmit:prop_types.func,onUndo:prop_types.func,onVisualAid:prop_types.func,onSkinLoadError:prop_types.func,onThemeLoadError:prop_types.func,onModelLoadError:prop_types.func,onPluginLoadError:prop_types.func,onIconsLoadError:prop_types.func,onLanguageLoadError:prop_types.func,onScriptsLoad:prop_types.func,onScriptsLoadError:prop_types.func},EditorPropTypes={apiKey:prop_types.string,id:prop_types.string,inline:prop_types.bool,init:prop_types.object,initialValue:prop_types.string,onEditorChange:prop_types.func,value:prop_types.string,tagName:prop_types.string,cloudChannel:prop_types.string,plugins:prop_types.oneOfType([prop_types.string,prop_types.array]),toolbar:prop_types.oneOfType([prop_types.string,prop_types.array]),disabled:prop_types.bool,textareaName:prop_types.string,tinymceScriptSrc:prop_types.oneOfType([prop_types.string,prop_types.arrayOf(prop_types.string),prop_types.arrayOf(prop_types.shape({src:prop_types.string,async:prop_types.bool,defer:prop_types.bool}))]),rollback:prop_types.oneOfType([prop_types.number,prop_types.oneOf([!1])]),scriptLoading:prop_types.shape({async:prop_types.bool,defer:prop_types.bool,delay:prop_types.number}),...eventPropTypes},isFunction=x=>"function"==typeof x,isEventProp=name=>name in eventPropTypes,eventAttrToEventName=attrName=>attrName.substr(2),configHandlers=(editor,prevProps,props,boundHandlers,lookup)=>((handlerLookup,on,off,adapter,prevProps,props,boundHandlers)=>{const prevEventKeys=Object.keys(prevProps).filter(isEventProp),currEventKeys=Object.keys(props).filter(isEventProp),removedKeys=prevEventKeys.filter((key=>void 0===props[key])),addedKeys=currEventKeys.filter((key=>void 0===prevProps[key]));removedKeys.forEach((key=>{const eventName=eventAttrToEventName(key),wrappedHandler=boundHandlers[eventName];off(eventName,wrappedHandler),delete boundHandlers[eventName]})),addedKeys.forEach((key=>{const wrappedHandler=adapter(handlerLookup,key),eventName=eventAttrToEventName(key);boundHandlers[eventName]=wrappedHandler,on(eventName,wrappedHandler)}))})(lookup,editor.on.bind(editor),editor.off.bind(editor),((handlerLookup,key)=>e=>handlerLookup(key)?.(e,editor)),prevProps,props,boundHandlers);let unique=0;const uuid=prefix=>{const time=Date.now(),random=Math.floor(1e9*Math.random());return unique++,prefix+"_"+random+unique+String(time)},isTextareaOrInput=element=>null!==element&&("textarea"===element.tagName.toLowerCase()||"input"===element.tagName.toLowerCase()),normalizePluginArray=plugins=>void 0===plugins||""===plugins?[]:Array.isArray(plugins)?plugins:plugins.split(" "),setMode=(editor,mode)=>{void 0!==editor&&(null!=editor.mode&&"object"==typeof editor.mode&&"function"==typeof editor.mode.set?editor.mode.set(mode):editor.setMode(mode))},injectScriptTag=(doc,item,handler)=>{const scriptTag=doc.createElement("script");scriptTag.referrerPolicy="origin",scriptTag.type="application/javascript",scriptTag.id=item.id,scriptTag.src=item.src,scriptTag.async=item.async??!1,scriptTag.defer=item.defer??!1;const loadHandler=()=>{scriptTag.removeEventListener("load",loadHandler),scriptTag.removeEventListener("error",errorHandler),handler(item.src)},errorHandler=err=>{scriptTag.removeEventListener("load",loadHandler),scriptTag.removeEventListener("error",errorHandler),handler(item.src,err)};scriptTag.addEventListener("load",loadHandler),scriptTag.addEventListener("error",errorHandler),doc.head&&doc.head.appendChild(scriptTag)},ScriptLoader=(()=>{const cache=[],getDocumentScriptLoader=doc=>{let loader=cache.find((l=>l.getDocument()===doc));return void 0===loader&&(loader=(doc=>{let lookup={};const scriptLoadOrErrorHandler=(src,err)=>{const item=lookup[src];item.done=!0,item.error=err;for(const h of item.handlers)h(src,err);item.handlers=[]};return{loadScripts:(items,success,failure)=>{const failureOrLog=err=>void 0!==failure?failure(err):console.error(err);if(0===items.length)return void failureOrLog(new Error("At least one script must be provided"));let successCount=0,failed=!1;const loaded=(_src,err)=>{failed||(err?(failed=!0,failureOrLog(err)):++successCount===items.length&&success())};for(const item of items){const existing=lookup[item.src];if(existing)existing.done?loaded(item.src,existing.error):existing.handlers.push(loaded);else{const id=uuid("tiny-");lookup[item.src]={id,src:item.src,done:!1,error:null,handlers:[loaded]},injectScriptTag(doc,{id,...item},scriptLoadOrErrorHandler)}}},deleteScripts:()=>{for(const item of Object.values(lookup)){const scriptTag=doc.getElementById(item.id);null!=scriptTag&&"SCRIPT"===scriptTag.tagName&&scriptTag.parentNode?.removeChild(scriptTag)}lookup={}},getDocument:()=>doc}})(doc),cache.push(loader)),loader};return{loadList:(doc,items,delay,success,failure)=>{const doLoad=()=>getDocumentScriptLoader(doc).loadScripts(items,success,failure);delay>0?setTimeout(doLoad,delay):doLoad()},reinitialize:()=>{for(let loader=cache.pop();null!=loader;loader=cache.pop())loader.deleteScripts()}}})(),getTinymce=view=>{const global=view;return global&&global.tinymce?global.tinymce:null};class Editor extends react.Component{static propTypes=EditorPropTypes;static defaultProps={cloudChannel:"6"};rollbackTimer=void 0;valueCursor=void 0;constructor(props){super(props),this.id=this.props.id||uuid("tiny-react"),this.elementRef=react.createRef(),this.inline=this.props.inline??this.props.init?.inline??!1,this.boundHandlers={}}get view(){return this.elementRef.current?.ownerDocument.defaultView??window}componentDidUpdate(prevProps){if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(prevProps),this.editor.initialized)){if(this.currentContent=this.currentContent??this.editor.getContent(),"string"==typeof this.props.initialValue&&this.props.initialValue!==prevProps.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if("string"==typeof this.props.value&&this.props.value!==this.currentContent){const localEditor=this.editor;localEditor.undoManager.transact((()=>{let cursor;if(!this.inline||localEditor.hasFocus())try{cursor=localEditor.selection.getBookmark(3)}catch(e){}const valueCursor=this.valueCursor;if(localEditor.setContent(this.props.value),!this.inline||localEditor.hasFocus())for(const bookmark of[cursor,valueCursor])if(bookmark)try{localEditor.selection.moveToBookmark(bookmark),this.valueCursor=bookmark;break}catch(e){}}))}if(this.props.disabled!==prevProps.disabled){const disabled=this.props.disabled??!1;setMode(this.editor,disabled?"readonly":"design")}}}componentDidMount(){if(null!==getTinymce(this.view))this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&0===this.props.tinymceScriptSrc.length)this.props.onScriptsLoadError?.(new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(this.elementRef.current?.ownerDocument){const successHandler=()=>{this.props.onScriptsLoad?.(),this.initialise()},errorHandler=err=>{this.props.onScriptsLoadError?.(err)};ScriptLoader.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),this.props.scriptLoading?.delay??0,successHandler,errorHandler)}}componentWillUnmount(){const editor=this.editor;editor&&(editor.off(this.changeEvents(),this.handleEditorChange),editor.off(this.beforeInputEvent(),this.handleBeforeInput),editor.off("keypress",this.handleEditorChangeSpecial),editor.off("keydown",this.handleBeforeInputSpecial),editor.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((eventName=>{editor.off(eventName,this.boundHandlers[eventName])})),this.boundHandlers={},editor.remove(),this.editor=void 0)}render(){return this.inline?this.renderInline():this.renderIframe()}changeEvents(){const isIE=getTinymce(this.view)?.Env?.browser?.isIE();return isIE?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"}beforeInputEvent(){return window.InputEvent&&"function"==typeof InputEvent.prototype.getTargetRanges?"beforeinput SelectionChange":"SelectionChange"}renderInline(){const{tagName="div"}=this.props;return react.createElement(tagName,{ref:this.elementRef,id:this.id})}renderIframe(){return react.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})}getScriptSources(){const async=this.props.scriptLoading?.async,defer=this.props.scriptLoading?.defer;if(void 0!==this.props.tinymceScriptSrc)return"string"==typeof this.props.tinymceScriptSrc?[{src:this.props.tinymceScriptSrc,async,defer}]:this.props.tinymceScriptSrc.map((item=>"string"==typeof item?{src:item,async,defer}:item));const channel=this.props.cloudChannel;return[{src:`https://cdn.tiny.cloud/1/${this.props.apiKey?this.props.apiKey:"no-api-key"}/tinymce/${channel}/tinymce.min.js`,async,defer}]}getInitialValue(){return"string"==typeof this.props.initialValue?this.props.initialValue:"string"==typeof this.props.value?this.props.value:""}bindHandlers(prevProps){if(void 0!==this.editor){configHandlers(this.editor,prevProps,this.props,this.boundHandlers,(key=>this.props[key]));const isValueControlled=p=>void 0!==p.onEditorChange||void 0!==p.value,wasControlled=isValueControlled(prevProps),nowControlled=isValueControlled(this.props);!wasControlled&&nowControlled?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):wasControlled&&!nowControlled&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}}rollbackChange=()=>{const editor=this.editor,value=this.props.value;editor&&value&&value!==this.currentContent&&editor.undoManager.ignore((()=>{if(editor.setContent(value),this.valueCursor&&(!this.inline||editor.hasFocus()))try{editor.selection.moveToBookmark(this.valueCursor)}catch(e){}})),this.rollbackTimer=void 0};handleBeforeInput=_evt=>{if(void 0!==this.props.value&&this.props.value===this.currentContent&&this.editor&&(!this.inline||this.editor.hasFocus()))try{this.valueCursor=this.editor.selection.getBookmark(3)}catch(e){}};handleBeforeInputSpecial=evt=>{"Enter"!==evt.key&&"Backspace"!==evt.key&&"Delete"!==evt.key||this.handleBeforeInput(evt)};handleEditorChange=_evt=>{const editor=this.editor;if(editor&&editor.initialized){const newContent=editor.getContent();void 0!==this.props.value&&this.props.value!==newContent&&!1!==this.props.rollback&&(this.rollbackTimer||(this.rollbackTimer=window.setTimeout(this.rollbackChange,"number"==typeof this.props.rollback?this.props.rollback:200))),newContent!==this.currentContent&&(this.currentContent=newContent,isFunction(this.props.onEditorChange)&&this.props.onEditorChange(newContent,editor))}};handleEditorChangeSpecial=evt=>{"Backspace"!==evt.key&&"Delete"!==evt.key||this.handleEditorChange(evt)};initialise=(()=>{var _this=this;return function(){let attempts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const target=_this.elementRef.current;if(!target)return;if(!(elem=>{if(!("isConnected"in Node.prototype)){let current=elem,parent=elem.parentNode;for(;null!=parent;)current=parent,parent=current.parentNode;return current===elem.ownerDocument}return elem.isConnected})(target)){if(0===attempts)setTimeout((()=>_this.initialise(1)),1);else{if(!(attempts<100))throw new Error("tinymce can only be initialised when in a document");setTimeout((()=>_this.initialise(attempts+1)),100)}return}const tinymce=getTinymce(_this.view);if(!tinymce)throw new Error("tinymce should have been loaded into global scope");const finalInit={..._this.props.init,selector:void 0,target,readonly:_this.props.disabled,inline:_this.inline,plugins:(initPlugins=_this.props.init?.plugins,inputPlugins=_this.props.plugins,normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins))),toolbar:_this.props.toolbar??_this.props.init?.toolbar,setup:editor=>{_this.editor=editor,_this.bindHandlers({}),_this.inline&&!isTextareaOrInput(target)&&editor.once("PostRender",(_evt=>{editor.setContent(_this.getInitialValue(),{no_events:!0})})),_this.props.init&&isFunction(_this.props.init.setup)&&_this.props.init.setup(editor)},init_instance_callback:editor=>{const initialValue=_this.getInitialValue();_this.currentContent=_this.currentContent??editor.getContent(),_this.currentContent!==initialValue&&(_this.currentContent=initialValue,editor.setContent(initialValue),editor.undoManager.clear(),editor.undoManager.add(),editor.setDirty(!1));const disabled=_this.props.disabled??!1;setMode(_this.editor,disabled?"readonly":"design"),_this.props.init&&isFunction(_this.props.init.init_instance_callback)&&_this.props.init.init_instance_callback(editor)}};var initPlugins,inputPlugins;_this.inline||(target.style.visibility=""),isTextareaOrInput(target)&&(target.value=_this.getInitialValue()),tinymce.init(finalInit)}})()}Editor.displayName="Editor";try{Editor.displayName="Editor",Editor.__docgenInfo={description:"",displayName:"Editor",props:{apiKey:{defaultValue:null,description:"",name:"apiKey",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"string"}},onEditorChange:{defaultValue:null,description:"",name:"onEditorChange",required:!1,type:{name:"((a: string, editor: Editor) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},init:{defaultValue:null,description:"",name:"init",required:!1,type:{name:"(RawEditorOptions & { selector?: undefined; target?: undefined; })"}},tagName:{defaultValue:null,description:"",name:"tagName",required:!1,type:{name:"string"}},cloudChannel:{defaultValue:{value:"6"},description:"",name:"cloudChannel",required:!1,type:{name:"string"}},plugins:{defaultValue:null,description:"",name:"plugins",required:!1,type:{name:"NonNullable<string | string[]>"}},toolbar:{defaultValue:null,description:"",name:"toolbar",required:!1,type:{name:"NonNullable<string | boolean | string[] | ToolbarGroup[]>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},textareaName:{defaultValue:null,description:"",name:"textareaName",required:!1,type:{name:"string"}},tinymceScriptSrc:{defaultValue:null,description:"",name:"tinymceScriptSrc",required:!1,type:{name:"string | string[] | ScriptItem[]"}},rollback:{defaultValue:null,description:"",name:"rollback",required:!1,type:{name:"number | false"}},scriptLoading:{defaultValue:null,description:"",name:"scriptLoading",required:!1,type:{name:"{ async?: boolean; defer?: boolean; delay?: number | undefined; } | undefined"}},onBeforePaste:{defaultValue:null,description:"",name:"onBeforePaste",required:!1,type:{name:'EEventHandler<"beforepaste">'}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:'EEventHandler<"blur">'}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:'EEventHandler<"click">'}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:'EEventHandler<"contextmenu">'}},onCopy:{defaultValue:null,description:"",name:"onCopy",required:!1,type:{name:'EEventHandler<"copy">'}},onCut:{defaultValue:null,description:"",name:"onCut",required:!1,type:{name:'EEventHandler<"cut">'}},onDblclick:{defaultValue:null,description:"",name:"onDblclick",required:!1,type:{name:'EEventHandler<"dblclick">'}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:'EEventHandler<"drag">'}},onDragDrop:{defaultValue:null,description:"",name:"onDragDrop",required:!1,type:{name:'EEventHandler<"dragdrop">'}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:'EEventHandler<"dragend">'}},onDragGesture:{defaultValue:null,description:"",name:"onDragGesture",required:!1,type:{name:'EEventHandler<"draggesture">'}},onDragOver:{defaultValue:null,description:"",name:"onDragOver",required:!1,type:{name:'EEventHandler<"dragover">'}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:'EEventHandler<"drop">'}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:'EEventHandler<"focus">'}},onFocusIn:{defaultValue:null,description:"",name:"onFocusIn",required:!1,type:{name:'EEventHandler<"focusin">'}},onFocusOut:{defaultValue:null,description:"",name:"onFocusOut",required:!1,type:{name:'EEventHandler<"focusout">'}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:'EEventHandler<"keydown">'}},onKeyPress:{defaultValue:null,description:"",name:"onKeyPress",required:!1,type:{name:'EEventHandler<"keypress">'}},onKeyUp:{defaultValue:null,description:"",name:"onKeyUp",required:!1,type:{name:'EEventHandler<"keyup">'}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:'EEventHandler<"mousedown">'}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:'EEventHandler<"mouseenter">'}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:'EEventHandler<"mouseleave">'}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:'EEventHandler<"mousemove">'}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:'EEventHandler<"mouseout">'}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:'EEventHandler<"mouseover">'}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:'EEventHandler<"mouseup">'}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:'EEventHandler<"paste">'}},onSelectionChange:{defaultValue:null,description:"",name:"onSelectionChange",required:!1,type:{name:'EEventHandler<"selectionchange">'}},onActivate:{defaultValue:null,description:"",name:"onActivate",required:!1,type:{name:'EEventHandler<"activate">'}},onAddUndo:{defaultValue:null,description:"",name:"onAddUndo",required:!1,type:{name:'EEventHandler<"AddUndo">'}},onBeforeAddUndo:{defaultValue:null,description:"",name:"onBeforeAddUndo",required:!1,type:{name:'EEventHandler<"BeforeAddUndo">'}},onBeforeExecCommand:{defaultValue:null,description:"",name:"onBeforeExecCommand",required:!1,type:{name:'EEventHandler<"BeforeExecCommand">'}},onBeforeGetContent:{defaultValue:null,description:"",name:"onBeforeGetContent",required:!1,type:{name:'EEventHandler<"BeforeGetContent">'}},onBeforeRenderUI:{defaultValue:null,description:"",name:"onBeforeRenderUI",required:!1,type:{name:"EventHandler<unknown>"}},onBeforeSetContent:{defaultValue:null,description:"",name:"onBeforeSetContent",required:!1,type:{name:'EEventHandler<"BeforeSetContent">'}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"EventHandler<unknown>"}},onClearUndos:{defaultValue:null,description:"",name:"onClearUndos",required:!1,type:{name:'EEventHandler<"ClearUndos">'}},onCommentChange:{defaultValue:null,description:"",name:"onCommentChange",required:!1,type:{name:"EventHandler<unknown>"}},onDeactivate:{defaultValue:null,description:"",name:"onDeactivate",required:!1,type:{name:'EEventHandler<"deactivate">'}},onDirty:{defaultValue:null,description:"",name:"onDirty",required:!1,type:{name:"EventHandler<unknown>"}},onExecCommand:{defaultValue:null,description:"",name:"onExecCommand",required:!1,type:{name:'EEventHandler<"ExecCommand">'}},onGetContent:{defaultValue:null,description:"",name:"onGetContent",required:!1,type:{name:'EEventHandler<"GetContent">'}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"EventHandler<unknown>"}},onInit:{defaultValue:null,description:"",name:"onInit",required:!1,type:{name:'EEventHandler<"init">'}},onLoadContent:{defaultValue:null,description:"",name:"onLoadContent",required:!1,type:{name:'EEventHandler<"LoadContent">'}},onNodeChange:{defaultValue:null,description:"",name:"onNodeChange",required:!1,type:{name:'EEventHandler<"NodeChange">'}},onPostProcess:{defaultValue:null,description:"",name:"onPostProcess",required:!1,type:{name:"EventHandler<unknown>"}},onPostRender:{defaultValue:null,description:"",name:"onPostRender",required:!1,type:{name:'EEventHandler<"PostRender">'}},onPreProcess:{defaultValue:null,description:"",name:"onPreProcess",required:!1,type:{name:"EventHandler<unknown>"}},onProgressState:{defaultValue:null,description:"",name:"onProgressState",required:!1,type:{name:'EEventHandler<"ProgressState">'}},onRedo:{defaultValue:null,description:"",name:"onRedo",required:!1,type:{name:'EEventHandler<"Redo">'}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:'EEventHandler<"remove">'}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"EventHandler<unknown>"}},onSaveContent:{defaultValue:null,description:"",name:"onSaveContent",required:!1,type:{name:"EventHandler<unknown>"}},onSetAttrib:{defaultValue:null,description:"",name:"onSetAttrib",required:!1,type:{name:"EventHandler<unknown>"}},onObjectResizeStart:{defaultValue:null,description:"",name:"onObjectResizeStart",required:!1,type:{name:'EEventHandler<"ObjectResizeStart">'}},onObjectResized:{defaultValue:null,description:"",name:"onObjectResized",required:!1,type:{name:'EEventHandler<"ObjectResized">'}},onObjectSelected:{defaultValue:null,description:"",name:"onObjectSelected",required:!1,type:{name:'EEventHandler<"ObjectSelected">'}},onSetContent:{defaultValue:null,description:"",name:"onSetContent",required:!1,type:{name:'EEventHandler<"SetContent">'}},onShow:{defaultValue:null,description:"",name:"onShow",required:!1,type:{name:"EventHandler<unknown>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"EventHandler<unknown>"}},onUndo:{defaultValue:null,description:"",name:"onUndo",required:!1,type:{name:'EEventHandler<"Undo">'}},onVisualAid:{defaultValue:null,description:"",name:"onVisualAid",required:!1,type:{name:"EventHandler<unknown>"}},onSkinLoadError:{defaultValue:null,description:"",name:"onSkinLoadError",required:!1,type:{name:'EEventHandler<"SkinLoadError">'}},onThemeLoadError:{defaultValue:null,description:"",name:"onThemeLoadError",required:!1,type:{name:'EEventHandler<"ThemeLoadError">'}},onModelLoadError:{defaultValue:null,description:"",name:"onModelLoadError",required:!1,type:{name:'EEventHandler<"ModelLoadError">'}},onPluginLoadError:{defaultValue:null,description:"",name:"onPluginLoadError",required:!1,type:{name:'EEventHandler<"PluginLoadError">'}},onIconsLoadError:{defaultValue:null,description:"",name:"onIconsLoadError",required:!1,type:{name:'EEventHandler<"IconsLoadError">'}},onLanguageLoadError:{defaultValue:null,description:"",name:"onLanguageLoadError",required:!1,type:{name:'EEventHandler<"LanguageLoadError">'}},onScriptsLoad:{defaultValue:null,description:"",name:"onScriptsLoad",required:!1,type:{name:"(() => void)"}},onScriptsLoadError:{defaultValue:null,description:"",name:"onScriptsLoadError",required:!1,type:{name:"((err: unknown) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/main/ts/components/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/main/ts/components/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const apiKey="qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",sampleContent="\n<h2>Full-featured rich text editing experience</h2>\n<p>No matter what you're building, TinyMCE has got you covered.</p>\n",Editor_stories={title:"Editor",component:Editor},IframeEditor=()=>(0,jsx_runtime.jsx)(Editor,{apiKey,initialValue:sampleContent});IframeEditor.displayName="IframeEditor",IframeEditor.parameters={controls:{hideNoControlsWarning:!0}};const InlineEditor=()=>(0,jsx_runtime.jsx)("div",{style:{paddingTop:"100px"},children:(0,jsx_runtime.jsx)(Editor,{apiKey,initialValue:sampleContent,inline:!0})});InlineEditor.displayName="InlineEditor",InlineEditor.parameters={controls:{hideNoControlsWarning:!0}};const ControlledInput=()=>{const[data,setData]=react.useState(sampleContent);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Editor,{apiKey,value:data,onEditorChange:e=>setData(e)}),(0,jsx_runtime.jsx)("textarea",{style:{width:"100%",height:"200px"},value:data,onChange:e=>setData(e.target.value)})]})};ControlledInput.displayName="ControlledInput",ControlledInput.parameters={controls:{hideNoControlsWarning:!0}};const ControlledInputFixed=()=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Editor,{apiKey,value:"<p>This value is <strong>fixed</strong> and can not be <em>changed</em>.</p>"})});ControlledInputFixed.displayName="ControlledInputFixed",ControlledInputFixed.parameters={controls:{hideNoControlsWarning:!0}};const ControlledInputLimitLength=()=>{const[data,setData]=react.useState("<p>This field can only take 50 characters.</p>"),[len,setLen]=react.useState(0);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Editor,{apiKey,value:data,onEditorChange:(value,editor)=>{const length=editor.getContent({format:"text"}).length;length<=50&&(setData(value),setLen(length))},onBeforeAddUndo:(evt,editor)=>{editor.getContent({format:"text"}).length>50&&evt.preventDefault()},onInit:(evt,editor)=>{setLen(editor.getContent({format:"text"}).length)}}),(0,jsx_runtime.jsxs)("p",{children:["Remaining: ",50-len]})]})};ControlledInputLimitLength.displayName="ControlledInputLimitLength",ControlledInputLimitLength.parameters={controls:{hideNoControlsWarning:!0}};const ToggleDisabledProp=()=>{const[disabled,setDisabled]=react.useState(!0);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Editor,{apiKey,initialValue:sampleContent,disabled}),(0,jsx_runtime.jsx)("button",{onClick:()=>setDisabled((prev=>!prev)),children:disabled?"Enable Editor":"Disable Editor"})]})};ToggleDisabledProp.displayName="ToggleDisabledProp",ToggleDisabledProp.parameters={controls:{hideNoControlsWarning:!0}};const CloudChannelSetTo5Dev=()=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Editor,{apiKey,cloudChannel:"6-dev",initialValue:sampleContent}),(0,jsx_runtime.jsx)("p",{children:'Refresh the page to ensure a load from the "6-dev" channel'})]});CloudChannelSetTo5Dev.displayName="CloudChannelSetTo5Dev",CloudChannelSetTo5Dev.storyName='Cloud Channel Set To "6-dev"',CloudChannelSetTo5Dev.parameters={controls:{hideNoControlsWarning:!0}},IframeEditor.parameters={...IframeEditor.parameters,docs:{...IframeEditor.parameters?.docs,source:{originalSource:"() => <Editor apiKey={apiKey} initialValue={sampleContent} />",...IframeEditor.parameters?.docs?.source}}},InlineEditor.parameters={...InlineEditor.parameters,docs:{...InlineEditor.parameters?.docs,source:{originalSource:"() => <div style={{\n  paddingTop: '100px'\n}}>\n    <Editor apiKey={apiKey} initialValue={sampleContent} inline />\n  </div>",...InlineEditor.parameters?.docs?.source}}},ControlledInput.parameters={...ControlledInput.parameters,docs:{...ControlledInput.parameters?.docs,source:{originalSource:"() => {\n  const [data, setData] = React.useState(sampleContent);\n  return <div>\n      <Editor apiKey={apiKey} value={data} onEditorChange={e => setData(e)} />\n      <textarea style={{\n      width: '100%',\n      height: '200px'\n    }} value={data} onChange={e => setData(e.target.value)} />\n    </div>;\n}",...ControlledInput.parameters?.docs?.source}}},ControlledInputFixed.parameters={...ControlledInputFixed.parameters,docs:{...ControlledInputFixed.parameters?.docs,source:{originalSource:"() => <div>\n    <Editor apiKey={apiKey} value={'<p>This value is <strong>fixed</strong> and can not be <em>changed</em>.</p>'} />\n  </div>",...ControlledInputFixed.parameters?.docs?.source}}},ControlledInputLimitLength.parameters={...ControlledInputLimitLength.parameters,docs:{...ControlledInputLimitLength.parameters?.docs,source:{originalSource:"() => {\n  const sizeLimit = 50;\n  const [data, setData] = React.useState('<p>This field can only take 50 characters.</p>');\n  const [len, setLen] = React.useState(0);\n  const handleInit = (evt: unknown, editor: TinyMCEEditor) => {\n    setLen(editor.getContent({\n      format: 'text'\n    }).length);\n  };\n  const handleUpdate = (value: string, editor: TinyMCEEditor) => {\n    const length = editor.getContent({\n      format: 'text'\n    }).length;\n    if (length <= sizeLimit) {\n      setData(value);\n      setLen(length);\n    }\n  };\n  const handleBeforeAddUndo = (evt: EditorEvent<Events.EditorEventMap['BeforeAddUndo']>, editor: TinyMCEEditor) => {\n    const length = editor.getContent({\n      format: 'text'\n    }).length;\n    // note that this is the opposite test as in handleUpdate\n    // because we are determining when to deny adding an undo level\n    if (length > sizeLimit) {\n      evt.preventDefault();\n    }\n  };\n  return <div>\n      <Editor apiKey={apiKey} value={data} onEditorChange={handleUpdate} onBeforeAddUndo={handleBeforeAddUndo} onInit={handleInit} />\n      <p>Remaining: {sizeLimit - len}</p>\n    </div>;\n}",...ControlledInputLimitLength.parameters?.docs?.source}}},ToggleDisabledProp.parameters={...ToggleDisabledProp.parameters,docs:{...ToggleDisabledProp.parameters?.docs,source:{originalSource:"() => {\n  const [disabled, setDisabled] = React.useState(true);\n  const toggleDisabled = () => setDisabled(prev => !prev);\n  return <div>\n      <Editor apiKey={apiKey} initialValue={sampleContent} disabled={disabled} />\n      <button onClick={toggleDisabled}>\n        {disabled ? 'Enable Editor' : 'Disable Editor'}\n      </button>\n    </div>;\n}",...ToggleDisabledProp.parameters?.docs?.source}}},CloudChannelSetTo5Dev.parameters={...CloudChannelSetTo5Dev.parameters,docs:{...CloudChannelSetTo5Dev.parameters?.docs,source:{originalSource:"() => <div>\n    <Editor apiKey={apiKey} cloudChannel='6-dev' initialValue={sampleContent} />\n    <p>Refresh the page to ensure a load from the \"6-dev\" channel</p>\n  </div>",...CloudChannelSetTo5Dev.parameters?.docs?.source}}};const __namedExportsOrder=["IframeEditor","InlineEditor","ControlledInput","ControlledInputFixed","ControlledInputLimitLength","ToggleDisabledProp","CloudChannelSetTo5Dev"]},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);